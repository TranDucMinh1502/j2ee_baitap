<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - Bookstore</title>
    <th:block th:replace="~{layout :: link-css}"></th:block>
    <th:block th:replace="~{layout::custom-css}"></th:block>
  </head>
  <body
    style="
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
    "
  >
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-sm-10 col-md-8 col-lg-5">
          <div class="card shadow-lg" style="border-radius: 12px; border: none">
            <div class="card-body p-5">
              <!-- Header -->
              <div class="text-center mb-4">
                <h2 class="fw-bold mb-2" style="color: #333">Welcome Back</h2>
                <p class="text-muted mb-4">Sign in to your Bookstore account</p>
              </div>

              <!-- Error Alert -->
              <div
                th:if="${param.error}"
                class="alert alert-danger alert-dismissible fade show"
                role="alert"
              >
                <strong>Login Failed!</strong> Username or password is
                incorrect.
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                ></button>
              </div>

              <!-- Logout Success Alert -->
              <div
                th:if="${param.logout}"
                class="alert alert-success alert-dismissible fade show"
                role="alert"
              >
                <strong>Success!</strong> You have been logged out successfully.
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                ></button>
              </div>

              <!-- Registration Success Alert -->
              <div
                th:if="${param.success}"
                class="alert alert-info alert-dismissible fade show"
                role="alert"
              >
                <strong>Welcome!</strong> Your account has been created
                successfully. Please sign in.
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="alert"
                ></button>
              </div>

              <!-- Login Form -->
              <form
                th:action="@{/login}"
                method="post"
                class="needs-validation"
                novalidate
              >
                <!-- Username Field -->
                <div class="mb-3">
                  <label for="username" class="form-label fw-semibold"
                    >Username</label
                  >
                  <input
                    type="text"
                    class="form-control form-control-lg"
                    id="username"
                    name="username"
                    placeholder="Enter your username"
                    required
                    autofocus
                  />
                </div>

                <!-- Password Field -->
                <div class="mb-4">
                  <label for="password" class="form-label fw-semibold"
                    >Password</label
                  >
                  <input
                    type="password"
                    class="form-control form-control-lg"
                    id="password"
                    name="password"
                    placeholder="Enter your password"
                    required
                  />
                </div>

                <!-- Remember Me -->
                <div class="form-check mb-4">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="remember-me"
                    name="remember-me"
                  />
                  <label class="form-check-label" for="remember-me">
                    Remember me for 7 days
                  </label>
                </div>

                <!-- Sign In Button -->
                <button
                  type="submit"
                  class="btn btn-primary btn-lg w-100 fw-semibold mb-3"
                  style="
                    background: linear-gradient(
                      135deg,
                      #667eea 0%,
                      #764ba2 100%
                    );
                    border: none;
                  "
                >
                  Sign In
                </button>
              </form>

              <hr class="my-4" />

              <!-- Sign Up Link -->
              <div class="text-center">
                <p class="mb-0 text-muted">
                  Don't have an account yet?
                  <a
                    th:href="@{/register}"
                    class="fw-bold text-decoration-none"
                    style="color: #667eea"
                  >
                    Create Account
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <th:block th:replace="~{layout :: footer}"></th:block>
  </body>
</html>
