<!doctype html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
  lang="vi"
>
  <head th:replace="~{book/layout-modern::head(~{::title})}">
    <title>Trang chủ - HUTECH Bookstore</title>
  </head>
  <body>
    <!-- Header -->
    <header th:replace="~{book/layout-modern::header}"></header>

    <!-- Hero Section -->
    <section
      class="py-5"
      style="
        background: linear-gradient(
          135deg,
          var(--hutech-primary) 0%,
          var(--hutech-primary-dark) 100%
        );
      "
    >
      <div class="container">
        <div class="row align-items-center py-5">
          <div class="col-lg-6 text-white">
            <h1 class="display-4 fw-bold mb-4 text-white">
              Chào mừng đến với<br />
              HUTECH Bookstore
            </h1>
            <p class="lead mb-4">
              Hệ thống quản lý cửa hàng sách trực tuyến dành cho sinh viên và
              giảng viên Đại học Công nghệ TP.HCM
            </p>
            <div class="d-flex gap-3 flex-wrap">
              <a
                th:href="@{/books/list}"
                class="hutech-btn hutech-btn-light hutech-btn-lg"
              >
                <i class="bi bi-book"></i>
                Khám phá sách
              </a>
              <a
                sec:authorize="isAnonymous()"
                th:href="@{/register}"
                class="hutech-btn hutech-btn-outline-primary hutech-btn-lg"
                style="border-color: white; color: white"
              >
                <i class="bi bi-person-plus"></i>
                Đăng ký ngay
              </a>
            </div>
          </div>
          <div class="col-lg-6 text-center d-none d-lg-block">
            <i
              class="bi bi-book display-1 text-white"
              style="font-size: 15rem; opacity: 0.2"
            ></i>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-white">
      <div class="container">
        <div class="text-center mb-5">
          <h2 class="fw-bold mb-3">Tính năng nổi bật</h2>
          <p class="hutech-text-muted">
            Trải nghiệm mua sắm sách trực tuyến tốt nhất
          </p>
        </div>

        <div class="row g-4">
          <div class="col-md-4">
            <div class="hutech-card text-center h-100">
              <div class="hutech-card-body">
                <div class="mb-3">
                  <i class="bi bi-search display-4 hutech-text-primary"></i>
                </div>
                <h5 class="fw-bold mb-3">Tìm kiếm dễ dàng</h5>
                <p class="hutech-text-muted mb-0">
                  Tìm kiếm sách theo tên, tác giả, danh mục với giao diện thân
                  thiện
                </p>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="hutech-card text-center h-100">
              <div class="hutech-card-body">
                <div class="mb-3">
                  <i class="bi bi-cart-check display-4 hutech-text-success"></i>
                </div>
                <h5 class="fw-bold mb-3">Đặt hàng nhanh chóng</h5>
                <p class="hutech-text-muted mb-0">
                  Giỏ hàng thông minh, thanh toán đơn giản, theo dõi đơn hàng dễ
                  dàng
                </p>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="hutech-card text-center h-100">
              <div class="hutech-card-body">
                <div class="mb-3">
                  <i
                    class="bi bi-ticket-perforated display-4 hutech-text-warning"
                  ></i>
                </div>
                <h5 class="fw-bold mb-3">Ưu đãi hấp dẫn</h5>
                <p class="hutech-text-muted mb-0">
                  Nhiều mã giảm giá, voucher đặc biệt dành cho sinh viên HUTECH
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Featured Books Section -->
    <section class="py-5 hutech-bg-light">
      <div class="container">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <div>
            <h2 class="fw-bold mb-2">Sách nổi bật</h2>
            <p class="hutech-text-muted mb-0">
              Những cuốn sách được yêu thích nhất
            </p>
          </div>
          <a th:href="@{/books/list}" class="hutech-btn hutech-btn-primary">
            Xem tất cả <i class="bi bi-arrow-right ms-1"></i>
          </a>
        </div>

        <!-- Books Grid -->
        <div class="row g-4" th:if="${books != null and !books.isEmpty()}">
          <div class="col-lg-3 col-md-4 col-sm-6" th:each="book : ${books}">
            <div
              th:replace="~{components/ui-components::book-card(${book})}"
            ></div>
          </div>
        </div>

        <!-- Empty State -->
        <div th:if="${books == null or books.isEmpty()}">
          <div
            th:replace="~{components/ui-components::empty-state(
                    'bi-inbox', 
                    'Chưa có sách nào', 
                    'Hệ thống đang cập nhật sách mới',
                    null,
                    null
                )}"
          ></div>
        </div>
      </div>
    </section>

    <!-- Categories Section -->
    <section
      class="py-5 bg-white"
      th:if="${categories != null and !categories.isEmpty()}"
    >
      <div class="container">
        <div class="text-center mb-5">
          <h2 class="fw-bold mb-3">Danh mục sách</h2>
          <p class="hutech-text-muted">Khám phá sách theo danh mục yêu thích</p>
        </div>

        <div class="row g-4">
          <div
            class="col-lg-3 col-md-4 col-sm-6"
            th:each="category : ${categories}"
          >
            <div
              th:replace="~{components/ui-components::category-card(${category})}"
            ></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Stats Section -->
    <section
      class="py-5"
      style="
        background: linear-gradient(
          135deg,
          var(--hutech-primary-lighter) 0%,
          var(--hutech-white) 100%
        );
      "
    >
      <div class="container">
        <div class="row g-4 text-center">
          <div class="col-md-3 col-sm-6">
            <div class="py-4">
              <i class="bi bi-book display-4 hutech-text-primary mb-3"></i>
              <h3
                class="fw-bold mb-2"
                th:text="${totalBooks != null ? totalBooks : '1000+'}"
              >
                1000+
              </h3>
              <p class="hutech-text-muted mb-0">Đầu sách</p>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="py-4">
              <i class="bi bi-people display-4 hutech-text-success mb-3"></i>
              <h3
                class="fw-bold mb-2"
                th:text="${totalUsers != null ? totalUsers : '500+'}"
              >
                500+
              </h3>
              <p class="hutech-text-muted mb-0">Người dùng</p>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="py-4">
              <i
                class="bi bi-cart-check display-4 hutech-text-warning mb-3"
              ></i>
              <h3
                class="fw-bold mb-2"
                th:text="${totalOrders != null ? totalOrders : '200+'}"
              >
                200+
              </h3>
              <p class="hutech-text-muted mb-0">Đơn hàng</p>
            </div>
          </div>
          <div class="col-md-3 col-sm-6">
            <div class="py-4">
              <i class="bi bi-star display-4 hutech-text-info mb-3"></i>
              <h3 class="fw-bold mb-2">4.8/5</h3>
              <p class="hutech-text-muted mb-0">Đánh giá</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section
      class="py-5"
      style="
        background: linear-gradient(
          135deg,
          var(--hutech-primary) 0%,
          var(--hutech-primary-dark) 100%
        );
      "
    >
      <div class="container text-center">
        <div class="row justify-content-center">
          <div class="col-lg-8">
            <h2 class="fw-bold text-white mb-4">
              Sẵn sàng khám phá thế giới sách?
            </h2>
            <p class="lead text-white mb-4">
              Đăng ký ngay để trải nghiệm mua sắm sách trực tuyến tốt nhất dành
              riêng cho cộng đồng HUTECH
            </p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
              <a
                sec:authorize="isAnonymous()"
                th:href="@{/register}"
                class="hutech-btn hutech-btn-light hutech-btn-lg"
              >
                <i class="bi bi-person-plus"></i>
                Đăng ký miễn phí
              </a>
              <a
                th:href="@{/books/list}"
                class="hutech-btn hutech-btn-outline-primary hutech-btn-lg"
                style="border-color: white; color: white"
              >
                <i class="bi bi-book"></i>
                Xem sách ngay
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer th:replace="~{book/layout-modern::footer}"></footer>

    <!-- Scripts -->
    <div th:replace="~{book/layout-modern::scripts}"></div>
  </body>
</html>
